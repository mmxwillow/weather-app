(()=>{"use strict";const e=document.querySelector(".temp"),t=document.querySelector(".description"),i=document.querySelector(".feels-like"),n=document.querySelector(".humidity"),r=document.querySelector(".wind"),o=document.querySelector('input[type="checkbox"]');let c="metric",d={};const m={metric:{temp:"°C",speed:"km/h"},imperial:{temp:"°F",speed:"mph"}};function a(o){d=o;const a=`<sup>${m[c].temp}</sup>`;e.innerHTML=o[c].temp+a,t.innerHTML=o.description,i.innerHTML=o[c].feels_like+a,n.innerHTML=`${o.humidity}%`,r.innerHTML=o[c].wind+m[c].speed}async function u(e){try{const i=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=9bd7a3b458df4663d1c3e2bcda89b19d&units=imperial`);if(200!==i.status)throw new Error("City not found");a({city:(t=await i.json()).name,country:t.sys.country,description:t.weather[0].description,icon:t.weather[0].icon,humidity:t.main.humidity,metric:{temp:Math.round(5*(t.main.temp-32)/9),feels_like:Math.round(5*(t.main.feels_like-32)/9),wind:(1.609*t.wind.speed).toFixed(2)},imperial:{temp:Math.round(t.main.temp),feels_like:Math.round(t.main.feels_like),wind:t.wind.speed.toFixed(2)}})}catch(e){console.error(e)}var t}o.addEventListener("change",(()=>{c="imperial"===c?"metric":"imperial",a(d)})),u("warsaw");const s=document.querySelector("form"),p=document.querySelector("form input");s.addEventListener("submit",(e=>{e.preventDefault(),u(p.value)}))})();