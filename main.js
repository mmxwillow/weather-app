(()=>{"use strict";const e=document.querySelector(".temp"),t=document.querySelector(".description"),i=document.querySelector(".feels-like"),n=document.querySelector(".humidity"),r=document.querySelector(".wind"),o=document.querySelector(".location"),c=document.querySelector("img"),d=document.querySelector('input[type="checkbox"]');let m="metric",u={};const a={metric:{temp:"°C",speed:"km/h"},imperial:{temp:"°F",speed:"mph"}};function s(s){m=d.checked?"metric":"imperial",u=s;const p=`<sup>${a[m].temp}</sup>`;c.src=`http://openweathermap.org/img/wn/${s.icon}@2x.png`,o.innerHTML=`${s.city}, ${s.country}`,e.innerHTML=s[m].temp+p,t.innerHTML=s.description,i.innerHTML=`feels like: ${s[m].feels_like}${p}`,n.innerHTML=`humidity: ${s.humidity}%`,r.innerHTML=`wind: ${s[m].wind} ${a[m].speed}`}async function p(e){try{const i=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${e}&APPID=9bd7a3b458df4663d1c3e2bcda89b19d&units=imperial`);if(200!==i.status)throw new Error("City not found");s({city:(t=await i.json()).name,country:t.sys.country,description:t.weather[0].description,icon:t.weather[0].icon,humidity:t.main.humidity,metric:{temp:Math.round(5*(t.main.temp-32)/9),feels_like:Math.round(5*(t.main.feels_like-32)/9),wind:(1.609*t.wind.speed).toFixed(2)},imperial:{temp:Math.round(t.main.temp),feels_like:Math.round(t.main.feels_like),wind:t.wind.speed.toFixed(2)}})}catch(e){console.error(e)}var t}d.addEventListener("change",(()=>{s(u)})),p("warsaw");const l=document.querySelector("form"),y=document.querySelector("form input");l.addEventListener("submit",(e=>{e.preventDefault(),p(y.value)}))})();